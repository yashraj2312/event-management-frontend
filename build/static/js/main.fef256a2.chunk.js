(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{103:function(e,t,a){},159:function(e,t){},162:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),l=a.n(c),u=(a(103),a(187)),s=a(22),o=a(11),i=a(8),m=a.n(i),p=a(13),d=a(6),f=a(89),v=a.n(f).a.create({baseURL:"http://localhost:8000"}),E=a(188),b=a(189),g=a(190),h=a(90),j=a(202),O=Object(n.createContext)(),y=function(e){var t=Object(n.useState)(!!localStorage.getItem("user")),a=Object(d.a)(t,2),c={isLoggedIn:a[0],setIsloggedIn:a[1]};return r.a.createElement(O.Provider,{value:c},e.children)};function k(e){var t=e.history,a=Object(n.useContext)(O).setIsloggedIn,c=Object(n.useState)(""),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(""),f=Object(d.a)(i,2),y=f[0],k=f[1],x=Object(n.useState)(!1),S=Object(d.a)(x,2),w=S[0],C=S[1],N=Object(n.useState)("false"),I=Object(d.a)(N,2),T=I[0],_=I[1],D=function(){var e=Object(p.a)(m.a.mark((function e(n){var r,c,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,v.post("/login",{email:s,password:y});case 3:r=e.sent,c=r.data.user_id||!1,l=r.data.user||!1;try{l&&c?(localStorage.setItem("user",l),localStorage.setItem("user_id",c),a(!0),t.push("/")):(u=r.data.message,C(!0),_(u),setTimeout((function(){C(!1),_("")}),2e3))}catch(w){C(!0),_("Error, the server returned an error")}case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,null,r.a.createElement("h2",null,"Login:"),r.a.createElement("p",null,"Please ",r.a.createElement("strong",null,"Login")," into your account"),r.a.createElement(E.a,{onSubmit:D},r.a.createElement("div",{className:"input-group"},r.a.createElement(b.a,{className:"form-group-"}),r.a.createElement(b.a,{className:"mb-2 mr-sm-2 mb-sm-0"},r.a.createElement(g.a,{type:"email",name:"email",id:"email",placeholder:"Your email",onChange:function(e){return o(e.target.value)}})),r.a.createElement(b.a,{className:"mb-2 mr-sm-2 mb-sm-0"},r.a.createElement(g.a,{type:"password",name:"password",id:"password",placeholder:"Your password",onChange:function(e){return k(e.target.value)}}))),r.a.createElement(b.a,null,r.a.createElement(h.a,{className:"submit-btn"},"Log In")),r.a.createElement(b.a,null,r.a.createElement(h.a,{className:"secondary-btn",onClick:function(){return t.push("/register")}},"Sign Up"))),w?r.a.createElement(j.a,{className:"event-validation",color:"danger"}," ",T):"")}function x(e){var t=e.history,a=Object(n.useContext)(O).setIsloggedIn,c=Object(n.useState)(""),l=Object(d.a)(c,2),s=l[0],o=l[1],i=Object(n.useState)(""),f=Object(d.a)(i,2),y=f[0],k=f[1],x=Object(n.useState)(""),S=Object(d.a)(x,2),w=S[0],C=S[1],N=Object(n.useState)(""),I=Object(d.a)(N,2),T=I[0],_=I[1],D=Object(n.useState)(!1),P=Object(d.a)(D,2),R=P[0],L=P[1],A=Object(n.useState)(""),q=Object(d.a)(A,2),F=q[0],Y=q[1],M=function(){var e=Object(p.a)(m.a.mark((function e(n){var r,c,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""===s||""===y||""===w||""===T){e.next=10;break}return e.next=4,v.post("/user/register",{email:s,password:y,firstName:w,lastName:T});case 4:r=e.sent,c=r.data.user||!1,l=r.data.user_id||!1,c&&l?(localStorage.setItem("user",c),localStorage.setItem("user_id",l),a(!0),t.push("/")):(u=r.data.message,L(!0),Y(u),setTimeout((function(){L(!1),Y("")}),2e3)),e.next=13;break;case 10:L(!0),Y("You need to fill all the Inputs"),setTimeout((function(){L(!1),Y("")}),2e3);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.a,null,r.a.createElement("h2",null,"Register:"),r.a.createElement("p",null,"Please ",r.a.createElement("strong",null,"Register")," for a new account"),r.a.createElement(E.a,{onSubmit:M},r.a.createElement("div",{className:"input-group"},r.a.createElement(b.a,{className:"mb-2 mr-sm-2 mb-sm-0"},r.a.createElement(g.a,{type:"text",name:"firstName",id:"firstName",placeholder:"Your first name",onChange:function(e){return C(e.target.value)}})),r.a.createElement(b.a,{className:"mb-2 mr-sm-2 mb-sm-0"},r.a.createElement(g.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Your last name",onChange:function(e){return _(e.target.value)}})),r.a.createElement(b.a,{className:"mb-2 mr-sm-2 mb-sm-0"},r.a.createElement(g.a,{type:"email",name:"email",id:"email",placeholder:"Your email",onChange:function(e){return o(e.target.value)}})),r.a.createElement(b.a,{className:"mb-2 mr-sm-2 mb-sm-0"},r.a.createElement(g.a,{type:"password",name:"password",id:"password",placeholder:"Your password",onChange:function(e){return k(e.target.value)}}))),r.a.createElement(b.a,null,r.a.createElement(h.a,{className:"submit-btn"},"Create Account")),r.a.createElement(b.a,null,r.a.createElement(h.a,{className:"secondary-btn",onClick:function(){return t.push("/login")}},"Already having Account? Sign In now"))),R?r.a.createElement(j.a,{className:"event-validation",color:"danger"},F):"")}var S=a(97),w=a(38),C=a.n(w),N=a(191),I=a(92),T=a(201),_=a(200),D=a(192),P=a(91),R=a.n(P);a(162);function L(e){var t=e.history,a=Object(n.useState)([]),c=Object(d.a)(a,2),l=c[0],u=c[1],s=localStorage.getItem("user"),o=localStorage.getItem("user_id"),i=Object(n.useState)(null),f=Object(d.a)(i,2),E=f[0],b=f[1],g=Object(n.useState)(!1),O=Object(d.a)(g,2),y=O[0],k=O[1],x=Object(n.useState)(!1),w=Object(d.a)(x,2),P=w[0],L=w[1],A=Object(n.useState)(""),q=Object(d.a)(A,2),F=q[0],Y=q[1],M=Object(n.useState)([]),U=Object(d.a)(M,2),B=U[0],H=U[1],J=Object(n.useState)(!1),z=Object(d.a)(J,2),W=z[0],G=z[1],K=Object(n.useState)(""),Q=Object(d.a)(K,2),V=Q[0],X=Q[1],Z=Object(n.useState)(!1),$=Object(d.a)(Z,2),ee=$[0],te=$[1];Object(n.useEffect)((function(){ce()}),[]);var ae=Object(n.useMemo)((function(){return R()("http://localhost:8000/",{query:{user:o}})}),[o]);Object(n.useEffect)((function(){ae.on("registration_request",(function(e){return H([].concat(Object(S.a)(B),[e]))}))}),[B,ae]);var ne=function(e){b(e),ce(e)},re=function(){var e=Object(p.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b("myevents"),e.next=4,v.get("/user/events",{headers:{user:s}});case 4:a=e.sent,u(a.data.events),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.push("/login");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(p.a)(m.a.mark((function e(a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a?"/dashboard/".concat(a):"/dashboard",e.next=4,v.get(n,{headers:{user:s}});case 4:r=e.sent,u(r.data.events),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.push("/login");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.delete("/event/".concat(t),{headers:{user:s}});case 3:L(!0),Y("The event was deleted successfully!"),setTimeout((function(){L(!1),ne(null),Y("")}),2500),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),k(!0),Y("Error when deleting event!"),setTimeout((function(){k(!1),Y("")}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/registration/".concat(t.id),{},{headers:{user:s}});case 3:L(!0),Y("The request for the event ".concat(t.title," was successfully!")),setTimeout((function(){L(!1),ne(null),Y("")}),2500),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),k(!0),Y("The request for the event ".concat(t.title," wasn't successfully!")),setTimeout((function(){k(!1),Y("")}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/registration/".concat(t,"/approvals"),{},{headers:{user:s}});case 3:te(!0),X("Event approved successfully!"),ie(t),setTimeout((function(){te(!1),X("")}),2e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/registration/".concat(t,"/rejections"),{},{headers:{user:s}});case 3:te(!0),X("Event rejected successfully!"),ie(t),setTimeout((function(){te(!1),X("")}),2e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){var t=B.filter((function(t){return t._id!==e}));H(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"notifications"},B.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",null,r.a.createElement("strong",null,e.user.email," ")," is requesting to register for your Event ",r.a.createElement("strong",null,e.event.title)),r.a.createElement(N.a,null,r.a.createElement(h.a,{color:"secondary",onClick:function(){return se(e._id)}},"Accept"),r.a.createElement(h.a,{color:"danger",onClick:function(){return oe(e._id)}},"Reject")))}))),ee?r.a.createElement(j.a,{color:"success"}," ",V):"",r.a.createElement("div",{className:"filter-panel"},r.a.createElement(I.a,{isOpen:W,toggle:function(){return G(!W)}},r.a.createElement(T.a,{color:"primary",caret:!0},"Filter"),r.a.createElement(_.a,null,r.a.createElement(D.a,{onClick:function(){return ne(null)},active:null===E},"All Events"),r.a.createElement(D.a,{onClick:re,active:"myevents"===E},"My Events"),r.a.createElement(D.a,{onClick:function(){return ne("hackathon")},active:"hackathon"===E},"Hackathon"),r.a.createElement(D.a,{onClick:function(){return ne("bootcamp")},active:"bootcamp"===E},"Bootcamp"),r.a.createElement(D.a,{color:"primary",onClick:function(){return ne("summit")},active:"summit"===E},"Summit")))),r.a.createElement("ul",{className:"events-list"},l.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("header",{style:{backgroundImage:"url(".concat(e.thumbnail_url,")")}},e.user===o?r.a.createElement("div",null,r.a.createElement(h.a,{color:"danger",size:"sm",onClick:function(){return le(e._id)}},"Delete")):""),r.a.createElement("strong",null,e.title),r.a.createElement("span",null,"Event Date: ",C()(e.date).format("l")),r.a.createElement("span",null,"Event Price: ",parseFloat(e.price).toFixed(2)),r.a.createElement("span",null,"Event Description: ",e.description),r.a.createElement(h.a,{color:"primary",onClick:function(){return ue(e)}},"Registration Request"))}))),y?r.a.createElement(j.a,{className:"event-validation",color:"danger"}," ",F," "):"",P?r.a.createElement(j.a,{className:"event-validation",color:"success"}," ",F):"")}var A=a(193),q=a(194),F=a(95),Y=a.n(F);a(180);function M(e){var t=e.history,a=Object(n.useState)(""),c=Object(d.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(""),i=Object(d.a)(o,2),f=i[0],O=i[1],y=Object(n.useState)(""),k=Object(d.a)(y,2),x=k[0],S=k[1],w=Object(n.useState)(null),C=Object(d.a)(w,2),N=C[0],I=C[1],P=Object(n.useState)("Type"),R=Object(d.a)(P,2),L=R[0],F=R[1],M=Object(n.useState)(""),U=Object(d.a)(M,2),B=U[0],H=U[1],J=Object(n.useState)(!1),z=Object(d.a)(J,2),W=z[0],G=z[1],K=Object(n.useState)(!1),Q=Object(d.a)(K,2),V=Q[0],X=Q[1],Z=Object(n.useState)(!1),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=localStorage.getItem("user");Object(n.useEffect)((function(){ae||t.push("/login")}),[]);var ne=Object(n.useMemo)((function(){return N?URL.createObjectURL(N):null}),[N]),re=function(){var e=Object(p.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),(n=new FormData).append("thumbnail",N),n.append("sport",L),n.append("title",l),n.append("price",x),n.append("description",f),n.append("date",B),e.prev=8,""===l||""===f||""===x||"Sport"===L||""===B||null===N){e.next=16;break}return e.next=12,v.post("/event",n,{headers:{user:ae}});case 12:X(!0),setTimeout((function(){X(!1),t.push("/")}),2e3),e.next=18;break;case 16:G(!0),setTimeout((function(){G(!1)}),2e3);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),Promise.reject(e.t0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[8,20]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){return F(e)};return r.a.createElement(u.a,null,r.a.createElement("h2",null,"Create your Event"),r.a.createElement(E.a,{onSubmit:re},r.a.createElement("div",{className:"input-group"},r.a.createElement(b.a,null,r.a.createElement(A.a,null,"Upload Image: "),r.a.createElement(A.a,{id:"thumbnail",style:{backgroundImage:"url(".concat(ne,")")},className:N?"has-thumbnail":""},r.a.createElement(g.a,{type:"file",onChange:function(e){return I(e.target.files[0])}}),r.a.createElement("img",{src:Y.a,style:{maxWidth:"50px"},alt:"upload icon image"}))),r.a.createElement(b.a,null,r.a.createElement(A.a,null,"Title: "),r.a.createElement(g.a,{id:"title",type:"text",value:l,placeholder:"Event Title",onChange:function(e){return s(e.target.value)}})),r.a.createElement(b.a,null,r.a.createElement(A.a,null,"Event description: "),r.a.createElement(g.a,{id:"description",type:"text",value:f,placeholder:"Event Description",onChange:function(e){return O(e.target.value)}})),r.a.createElement(b.a,null,r.a.createElement(A.a,null,"Event price: "),r.a.createElement(g.a,{id:"price",type:"text",value:x,placeholder:"Event Price \u20b90.00",onChange:function(e){return S(e.target.value)}})),r.a.createElement(b.a,null,r.a.createElement(A.a,null,"Event date: "),r.a.createElement(g.a,{id:"date",type:"date",value:B,placeholder:"Event Price \u20b90.00",onChange:function(e){return H(e.target.value)}})),r.a.createElement(b.a,null,r.a.createElement(q.a,{isOpen:ee,toggle:function(){return te(!ee)}},r.a.createElement(h.a,{id:"caret",value:L,disabled:!0},L),r.a.createElement(T.a,{caret:!0}),r.a.createElement(_.a,null,r.a.createElement(D.a,{onClick:function(){return ce("hackathon")}},"Hackathon"),r.a.createElement(D.a,{onClick:function(){return ce("bootcamp")}},"Bootcamp"),r.a.createElement(D.a,{onClick:function(){return ce("summit")}},"Summit"))))),r.a.createElement(b.a,null,r.a.createElement(h.a,{className:"submit-btn"},"Submit")),r.a.createElement(b.a,null,r.a.createElement(h.a,{className:"secondary-btn",onClick:function(){return t.push("/")}},"Cancel"))),W?r.a.createElement(j.a,{className:"event-validation",color:"danger"}," Missing required information"):"",V?r.a.createElement(j.a,{className:"event-validation",color:"success"}," The event was created successfully!"):"")}a(181);function U(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=localStorage.getItem("user");Object(n.useEffect)((function(){u()}),[]);var u=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.get("/registration",{headers:{user:l}});case 3:t=e.sent,console.log(t.data),c(t.data),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),s=function(e){return!0===e?"Approved":"Rejected"},o=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/registration/".concat(t,"/approvals"),{},{headers:{user:l}});case 3:u(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.post("/registration/".concat(t,"/rejections"),{},{headers:{user:l}});case 3:u(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("ul",{className:"events"},a.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("div",null,r.a.createElement("strong",null,e.eventTitle)),r.a.createElement("div",{className:"events-details"},r.a.createElement("span",null,"Event Date: ",C()(e.eventDate).format("l")),r.a.createElement("span",null,"Event Price: \xa3",parseFloat(e.eventPrice).toFixed(2)),r.a.createElement("span",null,"User Email: ",e.userEmail),r.a.createElement("span",null,"Status:",r.a.createElement("span",{className:void 0!==e.approved?s(e.approved):"Pending"},void 0!==e.approved?s(e.approved):"Pending"))),r.a.createElement(N.a,null,r.a.createElement(h.a,{disabled:!0===e.approved||!1===e.approved,color:"secondary",onClick:function(){return o(e._id)}},"Accept"),r.a.createElement(h.a,{disabled:!0===e.approved||!1===e.approved,color:"danger",onClick:function(){return i(e._id)}},"Reject")))})))}var B=a(195),H=a(196),J=a(197),z=a(198),W=a(199),G=function(){var e=Object(n.useContext)(O),t=e.isLoggedIn,a=e.setIsloggedIn,c=Object(n.useState)(!0),l=Object(d.a)(c,2),u=l[0],o=l[1];return t?r.a.createElement("div",null,r.a.createElement(B.a,{color:"faded",light:!0},r.a.createElement(H.a,{onClick:function(){return o(!u)}}),r.a.createElement(s.b,{to:"/login",onClick:function(){localStorage.removeItem("user"),localStorage.removeItem("user_id"),a(!1)}},"Logout"),r.a.createElement(J.a,{isOpen:!u,navbar:!0},r.a.createElement(z.a,{navbar:!0},r.a.createElement(W.a,null,r.a.createElement(s.b,{to:"/events"},"Events")),r.a.createElement(W.a,null,r.a.createElement(s.b,{to:"/"},"Dashboard")),r.a.createElement(W.a,null,r.a.createElement(s.b,{to:"/myregistrations"},"My Registrations")))))):""};function K(){return r.a.createElement(s.a,null,r.a.createElement(G,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:L}),r.a.createElement(o.a,{path:"/myregistrations",exact:!0,component:U}),r.a.createElement(o.a,{path:"/login",exact:!0,component:k}),r.a.createElement(o.a,{path:"/register",exact:!0,component:x}),r.a.createElement(o.a,{path:"/events",component:M})))}a(184);var Q=function(){return r.a.createElement(y,null,r.a.createElement(u.a,null,r.a.createElement("h1",null,"Event Management App"),r.a.createElement("div",{className:"content"},r.a.createElement(K,null))))};a(185);l.a.render(r.a.createElement(Q,null),document.getElementById("root"))},95:function(e,t,a){e.exports=a.p+"static/media/camera.91a960a0.png"},98:function(e,t,a){e.exports=a(186)}},[[98,1,2]]]);
//# sourceMappingURL=main.fef256a2.chunk.js.map